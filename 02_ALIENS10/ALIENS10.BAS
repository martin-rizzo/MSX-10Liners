10 CLEAR:ON KEY GOSUB 1000:KEY (1) ON
20 '
30 ' === INIT DATA (2 LINES) ===
40 '
50 SCREEN1,1,0:KEYOFF:DEFINTA-Z:N=BASE(5):C=BASE(6):F=N+192:G=N+736:K=32:O=29:DIMS(47),D(47),Q(K):PLAY"L64","L64"
55 DATA &H15,3,&HDF,1,&HD7,1,&HC3,1,&H1D,18,-4,4,-4,4,,4,4,,4,-4,4,-4,,-4,-4,-1,-1,-1,64,-64:T$="~808<|脯$$&33cB<|f33s"
80 '
90 ' ==== INIT SPRITES (1 LINE) ====
100 '
120 FORJ=KTO51:FORI=0TO23:VPOKEJ*K+I,ASC(MID$(T$,I+1)):NEXTI,J:SPRITE$(0)="8DD8":SPRITE$(1)="$E*":X=J:Y=X:A$="LOST"
132 '
134 ' === INIT LEVEL (2 LINES) ====
136 '
140 FORL=1TO3:COLORL*2,1:CLS:LOCATE12,12:PRINT"LEVEL";L:RESTORE:D=N:FORJ=1TO5:READT,U:FORI=1TOU*K:VPOKED,T:D=D+1:NEXTI,J
145 H=L*4:VPOKEC+3,&HC1:FORI=3TO22:READQ(I):NEXT:FORI=KTO47:T=I\2:S(I)=F+T*64-993:D(I)=S(I):VPOKEC+T,T*16-223:NEXT
150 '
160 ' == GAME LOOP (5 LINES) ==
170 '
180 T=24-W*4:PUTSPRITE0,(X,Y),15:PUTSPRITE1,(U-T,V),W:PUTSPRITE2,(U+T,V),W,1:I=(I+1)AND47:D=D(I):E=DAND31:T$=INKEY$
200 VPOKED,O:VPOKED+K,O:D=D+Q(18+RND(1)*5):D=D+(D<FAND64)-(D>GAND64):T=I*4:VPOKED,T:VPOKED+K,T+1:D(I)=D
210 IF(WORH)=0THENNEXTL:A$="WON!":E=0:ELSEIFSTRIG(0)=0GOTO240ELSED=N+(Y\8)*K+X\8+33:T=VPEEK(D):R=(195ANDT)=128
230 IFRTHENVPOKED,O:VPOKED+K,2ORT:D(T\4)=S(T\4):U=X:V=Y:W=5:H=H-1:P=P+E:LOCATE,0:PRINTP:PLAY"CFEG":ELSEPLAY"A","G"
240 T=STICK(0)*2:X=X+Q(T):Y=Y+Q(T+1):W=W+(W>0):IFE>6GOTO180ELSESCREEN0:PRINT"YOU "A$,"PTS:";P:FORI=1TO9000:NEXT:RUN
1000 ' SAVE "ALIENS10.BAS",A
1010 ' ----------
1020 '   N   = name table
1030 '   K   = 32 (constant)
1040 ' Q(17-)= crosshair movement map
1050 ' Q(18+)= alien movement map
1055 '  F,G  = aliens min/max address
1060 '  S(I) = alien start pos/address
1062 '  D(I) = alien cur pos/address
1070 '  I,J  = loops
1080 '   T   = temporary var
1085 '   L   = game level
1090 '   P   = player points
1095 '   H   = headshot countdown
1100 '  X,Y  = crosshair coordinate
1105 '  U,V  = explosion coordinate
1110 '   W   = explosion distance
1120 '   Z   = explosion color
1140 '
1141 ' char 10xxxx00 = HEAD
1142 ' char 10xxxx01 = legs
1143 ' char 10xxxx10 = dead body
1144 '
1150 ' ALIEN HEAD-CHAR COL-IDX  COL
1160 '   0     128       16     &H21
1170 '   1     128+4     16     &H21
1180 '   2     128+8     17     &H31
1190 '   3     128+16    17     &H31
1200 SCREEN0:COLOR15,4,4:C$=CHR$(13)
1210 WIDTH40:KEYON:KEY1,"run1000"+C$:KEY4,"list-1010"+C$:END
2000 '
2010 ' GRAPHIC EDITOR
2020 '
2030 RESTORE 2050:FORI=1TO8:READA,B:A$=A$+CHR$(A):B$=B$+CHR$(B):NEXT
2040 FORI=1TO8:READC,D:C$=C$+CHR$(C):D$=D$+CHR$(D):NEXT:PRINT A$+B$+D$
2050 DATA &B01111110,&B10111000
2060 DATA &B11111110,&B10101100
2070 DATA &B00111000,&B00100100
2080 DATA &B11110000,&B00100100
2090 DATA &B00110000,&B00100110
2100 DATA &B00111000,&B00110011
2110 DATA &B00111100,&B00110011
2120 DATA &B01111100,&B01100011
2130 '
2140 DATA &B00000000,&B10000000
2150 DATA &B00000000,&B01000010
2160 DATA &B00000000,&B00111100
2170 DATA &B00000000,&B01111100
2180 DATA &B00000000,&B01100110
2190 DATA &B00000000,&B00110011
2200 DATA &B00000000,&B00110011
2210 DATA &B00000000,&B01110011
