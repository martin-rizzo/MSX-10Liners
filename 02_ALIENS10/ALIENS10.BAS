10 CLEAR:ON KEY GOSUB 1000:KEY (1) ON
20 '
30 ' === INIT DATA (2 LINES) ===
40 '
50 SCREEN1,1,0:KEYOFF:DEFINTA-Z:PLAY"L64","L64":N=6144:C=8192:F=6336:K=32:O=29:DIMA(47),S(47),Q(K):M(0)=65:M(1)=-63
55 DATA21,3,223,1,215,1,195,1,29,18,-4,4,-4,4,,4,4,,4,-4,4,-4,,-4,-4:T$="~808<|脯$$&33cB<|f33s":SPRITE$(0)="8DD8"
80 '
90 ' ==== INIT SPRITES (1 LINE) ====
100 '
120 SPRITE$(1)="$E*":FORJ=KTO51:FORI=0TO23:VPOKEJ*K+I,ASC(MID$(T$,I+1)):NEXTI,J:FORL=1TO3:X=J:Y=X:R=L*3:H=L*4:T=65
132 '
134 ' === INIT LEVEL (2 LINES) ====
136 '
144 COLORL+10,1:CLS:FORI=3TO23:J=I+24:VPOKEC+I,T:T=&H1F-(I>14)*(I*16-158):S(J)=F+(J\2)*64-R-990:A(J)=S(J):NEXT
148 LOCATE12,12:PRINT"LVL";L:RESTORE:A=N:FORJ=1TO5:READT,U:FORI=1TOU*K:VPOKEA,T:A=A+1:NEXTI,J:FORI=3TO17:READQ(I):NEXT:I=K
150 '
160 ' == GAME LOOP (5 LINES) ==
170 '
180 T=24-W*4:PUTSPRITE0,(X,Y),15:PUTSPRITE1,(U-T,V),W:PUTSPRITE2,(U+T,V),W,1:I=(I+1)AND47:A=A(I):E=31ANDA:T$=INKEY$
200 VPOKEA,O:VPOKEA+K,O:A=A+M(RND(1)*R)-1:A=A+(A<FAND64)-(A>6880AND64):T=I*4:VPOKEA,T:VPOKEA+K,T+1:A(I)=A
210 IF(WORH)=0THENNEXTL:A$="WON":E=0:ELSEA$="LOST":IFSTRIG(0)=0GOTO240ELSEA=N+(Y\8)*K+X\8+33:T=VPEEK(A):B=(195ANDT)=128
230 IFBTHENVPOKEA,O:VPOKEA+K,2ORT:A(T\4)=S(T\4):U=X:V=Y:W=5:H=H-1:P=P+E:LOCATE,0:PRINTP:PLAY"CFEG":ELSEPLAY"A","G"
240 T=STICK(0)*2:X=X+Q(T):Y=Y+Q(T+1):W=W+(W>0):IFE>6GOTO180ELSECLS:LOCATE,12:PRINT"YOU "A$,"PTS:";P:INPUT"AGAIN";T$:P=0:GOTO144
1000 ' SAVE "ALIENS10.BAS",A
1010 ' ---------------------
1020 '   N   = name table
1030 '   K   = 32 (constant)
1035 '   O   = 29 (constant)
1040 '  Q(n) = crosshair movement map
1050 '  M(n) = alien movement map
1055 '   F   = alien min address
1060 '  S(n) = alien start pos/address
1062 '  A(n) = alien cur pos/address
1070 '   T   = temporary var
1080 '   B   = temporary var (boolean)
1082 '  I,J  = temporary var (loops)
1085 '   L   = game level
1086 '   R   = game difficulty
1090 '   P   = player points
1095 '   H   = headshot countdown
1100 '  X,Y  = crosshair coordinate
1105 '  U,V  = explosion coordinate
1110 '   W   = explosion distance
1120 '   Z   = explosion color
1130 '   A$  = ending message
1140 '
1141 ' char 10xxxx00 = HEAD
1142 ' char 10xxxx01 = legs
1143 ' char 10xxxx10 = dead body
1144 '
1150 ' ALIEN HEAD-CHAR COL-IDX  COL
1160 '   0     128       16     &H21
1170 '   1     128+4     16     &H21
1180 '   2     128+8     17     &H31
1190 '   3     128+16    17     &H31
1200 SCREEN0:COLOR15,4,4:C$=CHR$(13)
1210 WIDTH40:KEYON:KEY1,"run1000"+C$:KEY4,"list-1010"+C$:END
2000 '
2010 ' GRAPHIC EDITOR
2020 '
2030 RESTORE 2050:FORI=1TO8:READA,B:A$=A$+CHR$(A):B$=B$+CHR$(B):NEXT
2040 FORI=1TO8:READC,D:C$=C$+CHR$(C):D$=D$+CHR$(D):NEXT:PRINT A$+B$+D$
2050 DATA &B01111110,&B10111000
2060 DATA &B11111110,&B10101100
2070 DATA &B00111000,&B00100100
2080 DATA &B11110000,&B00100100
2090 DATA &B00110000,&B00100110
2100 DATA &B00111000,&B00110011
2110 DATA &B00111100,&B00110011
2120 DATA &B01111100,&B01100011
2130 '
2140 DATA &B00000000,&B10000000
2150 DATA &B00000000,&B01000010
2160 DATA &B00000000,&B00111100
2170 DATA &B00000000,&B01111100
2180 DATA &B00000000,&B01100110
2190 DATA &B00000000,&B00110011
2200 DATA &B00000000,&B00110011
2210 DATA &B00000000,&B01110011
